# CTE Score Benchmark Configuration
# Two-tier storage configuration designed to stress capacity limits:
# - Fast tier: 512MB RAM (score 1.0) - intentionally small to force spilling
# - Slow tier: 4GB file storage (score 0.0)
#
# With 512MB DRAM and 512MB per step, DRAM fills after first step,
# forcing demotion to make room for new data.

runtime:
  num_threads: 4
  queue_depth: 1024
  first_busy_wait: 10000
  max_sleep: 50000

compose:
  - mod_name: wrp_cte_core
    pool_name: wrp_cte
    pool_query: local
    pool_id: 512.0

    targets:
      neighborhood: 1
      default_target_timeout_ms: 30000
      poll_period_ms: 5000

    storage:
      # Fast tier: 512MB RAM (score 1.0) - small to stress capacity
      - path: "ram::cte_fast_tier"
        bdev_type: "ram"
        capacity_limit: "512MB"
        score: 1.0

      # Slow tier: 4GB file storage (score 0.0)
      - path: "/tmp/cte_slow_tier.bin"
        bdev_type: "file"
        capacity_limit: "4GB"
        score: 0.0

    dpe:
      dpe_type: "max_bw"

    # Performance tuning
    performance:
      score_difference_threshold: 0.1  # Minimum score difference to trigger reorganization
      stat_targets_period_ms: 5000     # Period to update target statistics

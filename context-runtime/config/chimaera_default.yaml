# Default Chimaera Configuration
# This file contains the default configuration for the Chimaera distributed task execution framework

# Memory segment configuration
memory:
  main_segment_size: auto            # Auto-calculated from queue_depth and num_threads
                                     # Or specify explicitly (e.g., "1GB" or 1073741824)
  client_data_segment_size: 536870912 # 512MB

# Network configuration
networking:
  port: 5555
  neighborhood_size: 32  # Maximum number of queries when splitting range queries
  wait_for_restart: 30   # Seconds to wait for remote connection during system boot (default: 30)
  wait_for_restart_poll_period: 1  # Seconds between retry attempts (default: 1)

# Logging configuration
logging:
  level: "info"
  file: "/tmp/chimaera.log"

# Runtime configuration (includes worker threads, scheduling, and performance parameters)
runtime:
  # Worker thread configuration
  num_threads: 4             # Worker threads for task execution (replaces sched_threads + slow_threads)
  process_reaper_threads: 1  # Process reaper threads

  # Task execution configuration
  queue_depth: 1024          # Task queue depth per worker (now actually configurable)
  local_sched: "default"     # Local task scheduler
  heartbeat_interval: 1000   # Heartbeat interval in milliseconds

  # Worker sleep configuration (all values in microseconds)
  first_busy_wait: 10000     # Busy wait before sleeping when idle (10ms)
  max_sleep: 50000           # Maximum sleep duration (50ms)